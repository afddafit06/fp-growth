---
title: "FP-Growth"
date: "`r Sys.Date()`"
author: SYahron Fitrahjon-Institut Teknologi Statistika dan Bisnis Muhammadiyah
output:
  rmdformats::downcute:
    self_contained: true
    thumbnails: true
    lightbox: true
    gallery: false
    highlight: tango
bibliography: references.bib
---

```{=html}
<style>
body{
text-align: justify}
</style>
```
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# PENGERTIAN
FP-Growth adalah algoritma pencarian frequent itemsets yang didapat dari FP-tree (Rama Novta Miraldi, 2014). 
Algoritma FP-Growth merupakan pengembangan dari algoritma Apriori. Sehingga kekurangan dari algoritma Apriori diperbaiki di algoritma FP-Growth. Algoritma ini menenfukan frequent itemset yang berakhkan suffix tertentu dengan menggunakan metode devide and conquer untuk memecah problem menjadi subproblem yang lebih kecil (Han, Kamber, & Pei, Data Mining : Concepts and Techniques, 201I).
Jadi dapat disimpulkan bahwa FP-Growth adalah salah satu algoritma yang digunakan untuk mencari himpunan data yang sering muncul dari sekumpulan data, dengan menggunakan cara pembangktan stuktur data Tree.

# TUJUAN PEMBELAJARAN
Mahasiswa dapat menganalisis, menginterpretasikan data dan informasi serta mengambil keputusan yang tepat berdasarkan pendekatan analisis asosiasi (CPMK1, CPMK2, KUE, KKB). - Analisis afinitas - Algoritma Apriori di R Studio - Pertumbuhan FP di R Studio

## Analisis Afinitas
Analisis afinitas adalah studi tentang atribut atau karakteristik yang "berjalan bersama". Metode untuk analisis afinitas, juga dikenal sebagai analisis keranjang pasar, berusaha mengungkap asosiasi di antara atribut-atribut ini; yaitu, ia berusaha mengungkap aturan untuk mengukur hubungan antara dua atau lebih atribut. Aturan asosiasi mengambil bentuk "Jika anteseden, maka konsekuensinya", bersama dengan ukuran dukungan dan kepercayaan yang terkait dengan aturan tersebut.

## Apriori dalam R Studio
Apriori() menghasilkan seperangkat aturan yang paling relevan dari data transaksi tertentu. Ini juga menunjukkan dukungan, kepercayaan diri, dan pencabutan aturan tersebut. Ketiga ukuran ini dapat digunakan untuk memutuskan kekuatan relatif aturan. Jadi apa arti istilah-istilah ini?

>
Support $=\frac{\text { Number of transactions with both } A \text { and } B}{\text { Total number of transactions }}=P(A \cap B)$

>
Confidence $=\frac{\text { Number of transactions with both A and } B}{\text { Total number of transactions with } A}=\frac{P(A \cap B)}{P(A)}$

>
ExpectedCon fidence $=\frac{\text { Number of transactions with } B}{\text { Total number of transactions }}=P(B)$

>
Lift $=\frac{\text { Confidence }}{\text { Expected Confidence }}=\frac{P(A \cap B)}{P(A) \cdot P(B)}$

# Tahapan
## Contoh Data
Data transaksi dengan "data Groceries" yang disertakan dengan arules pkg. Tidak seperti dataframe, menggunakan head(Groceries) tidak menampilkan item transaksi dalam data. Untuk melihat transaksi, gunakan fungsi inspect() sebagai gantinya.

Karena penambangan asosiasi berhubungan dengan transaksi, data harus dikonversi ke salah satu transaksi kelas, yang tersedia di R melalui arules pkg. Ini adalah langkah yang diperlukan karena fungsi apriori() hanya menerima data transaksi transaksi kelas.

## Algoritma dan Paket
```{r}
library(arules)
library(arulesViz)
library(grid)
data("Groceries")
class(Groceries)
inspect(head(Groceries, 3))
```
## Cara Melihat Item yang Paling Sering
Eclat() mengambil objek transaksi dan memberikan item yang paling sering dalam data berdasarkan dukungan yang Anda berikan ke argumen supp. Maxlen mendefinisikan jumlah maksimum item di setiap itemset item yang sering.
```{r}
frequentItems <- eclat (Groceries, parameter = list(supp = 0.07, maxlen = 15))
```
```{r}
inspect(frequentItems)
```
```{r}
itemFrequencyPlot(Groceries, topN=10, type="absolute", main="Item Frequency")
```

## Cara Mendapatkan Aturan Rekomendasi Produk
```{r}
rules <- apriori (Groceries, parameter = list(supp = 0.001, conf = 0.5))
```
```{r}
rules_conf <- sort (rules, by="confidence", decreasing=TRUE)
```
```{r}
inspect(head(rules_conf))
```
```{r}
rules_lift <- sort (rules, by="lift", decreasing=TRUE)
inspect(head(rules_lift))
```
Aturan dengan keyakinan 1 (lihat rules_conf di atas) menyiratkan bahwa, setiap kali item LHS (Itemsets in Antecedent) dibeli, item RHS (itemsets sebagai konsekuensinya) juga dibeli 100% dari waktu.

Aturan dengan lift 18 (lihat rules_lift atas) menyiratkan bahwa, item dalam LHS dan RHS 18 kali lebih mungkin untuk dibeli bersama dibandingkan dengan pembelian ketika diasumsikan tidak terkait.

## Cara Mengontrol Jumlah Aturan dalam Output
```{r}
rules <- apriori(Groceries, parameter = list (supp = 0.001, conf = 0.2, maxlen=3))
```
```{r}
summary(rules)
```
```{r}
inspect(head(sort(rules, by ="lift"),5))
```
```{r}
plot(rules)
```
```{r}
plot(rules , shading="order", control=list(main="two-key plot"))
```

```{r}
RulesBev1 <- subset(rules, subset = rhs %ain% "soda")
summary(RulesBev1)
```
```{r}
inspect(head(sort(RulesBev1, by ="lift"),5))
```

# REFERENSI
https://rpubs.com/anikbibib/Arules
